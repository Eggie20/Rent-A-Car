<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vehicle Details - The Middle Man</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/main.css" />
  <link rel="stylesheet" href="../assets/css/animations.css" />
  <link rel="stylesheet" href="../assets/css/responsive.css" />
  <link rel="stylesheet" href="../assets/css/vehicles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
  <header id="app-header"></header>

  <main>
    <div class="breadcrumb">
      <div class="container">
        <a href="./index.html">Home</a> <span>/</span> <a href="./vehicles.html">Vehicles</a> <span>/</span> <span id="breadcrumbTitle">Vehicle</span>
      </div>
    </div>

    <div class="container vehicle-detail-page">
      <section class="detail-main">
        <!-- Image Gallery -->
        <div class="gallery-section">
          <div class="main-image">
            <img id="mainImage" src="" alt="Vehicle" />
            <div class="gallery-controls">
              <button class="gallery-btn prev" id="prevImage"><i class="fa-solid fa-chevron-left"></i></button>
              <button class="gallery-btn next" id="nextImage"><i class="fa-solid fa-chevron-right"></i></button>
            </div>
            <div class="image-counter"><span id="currentImageIndex">1</span> / <span id="totalImages">3</span></div>
          </div>
          <div class="thumbnail-strip" id="thumbnailStrip"></div>
        </div>

        <!-- Vehicle Info -->
        <div class="vehicle-info">
          <h1 id="vehicleName"></h1>
          <div class="merchant-info">
            <span id="merchantName"></span>
            <span id="verifiedBadge" class="badge success" hidden>✔ Verified</span>
          </div>
          <div class="rating-section">
            <div class="stars" id="ratingStars"></div>
            <span id="reviewCount"></span>
          </div>
          <div class="price-section">
            <div class="price-display" id="priceDisplay"></div>
            <div class="price-breakdown">
              <div>Daily Rate: <strong id="dailyRate"></strong></div>
              <div>Weekly Rate: <strong id="weeklyRate"></strong></div>
              <div>Monthly Rate: <strong id="monthlyRate"></strong></div>
            </div>
          </div>

          <!-- Tabs -->
          <div class="tabs">
            <button class="tab-btn active" data-tab="overview">Overview</button>
            <button class="tab-btn" data-tab="features">Features</button>
            <button class="tab-btn" data-tab="terms">Rental Terms</button>
            <button class="tab-btn" data-tab="merchant">Merchant Info</button>
            <button class="tab-btn" data-tab="reviews">Reviews</button>
          </div>

          <!-- Tab Contents -->
          <div class="tab-content">
            <!-- Overview Tab -->
            <div class="tab-pane active" id="overview">
              <div class="specs-table">
                <div class="spec-row">
                  <span class="label">Year</span>
                  <span id="specYear"></span>
                </div>
                <div class="spec-row">
                  <span class="label">Seating</span>
                  <span id="specSeats"></span>
                </div>
                <div class="spec-row">
                  <span class="label">Transmission</span>
                  <span id="specTransmission"></span>
                </div>
                <div class="spec-row">
                  <span class="label">Fuel Type</span>
                  <span id="specFuel"></span>
                </div>
                <div class="spec-row">
                  <span class="label">Mileage Limit</span>
                  <span>300 km/day</span>
                </div>
              </div>
            </div>

            <!-- Features Tab -->
            <div class="tab-pane" id="features">
              <div class="features-list" id="featuresList"></div>
            </div>

            <!-- Rental Terms Tab -->
            <div class="tab-pane" id="terms">
              <div class="terms-content">
                <h4>Allowed Destinations</h4>
                <div id="destinations"></div>
                <h4 style="margin-top: 1rem;">Rental Policies</h4>
                <ul>
                  <li>Minimum rental: 1 day</li>
                  <li>Security deposit: ₱5,000</li>
                  <li>Fuel policy: Full to Full</li>
                  <li>Late return fee: ₱500/hour</li>
                  <li>Excess mileage: ₱10/km</li>
                  <li>Driver service available: ₱1,500/day</li>
                </ul>
              </div>
            </div>

            <!-- Merchant Info Tab -->
            <div class="tab-pane" id="merchant">
              <div class="merchant-details">
                <h4 id="merchantNameDetail"></h4>
                <p><strong>Years in Business:</strong> <span id="yearsInBusiness">5+</span></p>
                <p><strong>Fleet Size:</strong> <span id="fleetSize">15 vehicles</span></p>
                <p><strong>Rating:</strong> <span id="merchantRating"></span></p>
                <p><strong>Contact:</strong> <span id="merchantContact">+63 123 456 7890</span></p>
                <button class="btn btn-secondary" onclick="alert('Contact merchant feature')">Contact Merchant</button>
              </div>
            </div>

            <!-- Reviews Tab -->
            <div class="tab-pane" id="reviews">
              <div class="reviews-section">
                <div class="rating-summary">
                  <div class="rating-large" id="ratingLarge">4.7</div>
                  <div class="rating-breakdown">
                    <div class="breakdown-row">
                      <span>5★</span>
                      <div class="progress-bar"><div class="progress" style="width: 70%"></div></div>
                      <span>70%</span>
                    </div>
                    <div class="breakdown-row">
                      <span>4★</span>
                      <div class="progress-bar"><div class="progress" style="width: 20%"></div></div>
                      <span>20%</span>
                    </div>
                    <div class="breakdown-row">
                      <span>3★</span>
                      <div class="progress-bar"><div class="progress" style="width: 8%"></div></div>
                      <span>8%</span>
                    </div>
                    <div class="breakdown-row">
                      <span>2★</span>
                      <div class="progress-bar"><div class="progress" style="width: 2%"></div></div>
                      <span>2%</span>
                    </div>
                  </div>
                </div>
                <div id="reviewsList" class="reviews-list"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Booking Widget (Sticky) -->
      <aside class="booking-widget-sticky" id="bookingWidget">
        <div class="widget-header">
          <h3>Book This Vehicle</h3>
        </div>
        <div class="widget-content">
          <div class="widget-field">
            <label>Pick-up Date & Time</label>
            <input type="datetime-local" id="pickupWidget" />
          </div>
          <div class="widget-field">
            <label>Return Date & Time</label>
            <input type="datetime-local" id="returnWidget" />
          </div>
          <div class="widget-summary">
            <div class="summary-row">
              <span>Days:</span>
              <strong id="daysCount">0</strong>
            </div>
            <div class="summary-row">
              <span>Daily Rate:</span>
              <strong id="dailyRateWidget"></strong>
            </div>
            <div class="summary-row">
              <span>Subtotal:</span>
              <strong id="subtotal">₱0</strong>
            </div>
            <div class="summary-row">
              <span>Platform Fee:</span>
              <strong id="platformFee">₱0</strong>
            </div>
            <div class="summary-row total">
              <span>Total:</span>
              <strong id="totalPrice">₱0</strong>
            </div>
          </div>
          <button class="btn btn-primary btn-lg" id="bookNowBtn" style="width: 100%; margin-top: 1rem;">
            Send Booking Request
          </button>
          <button class="btn btn-outline" id="addToCompareBtn" style="width: 100%; margin-top: 0.5rem;">
            <i class="fa-solid fa-heart"></i> Add to Favorites
          </button>
        </div>
      </aside>
    </div>

    <!-- Similar Vehicles Section -->
    <section class="section" style="margin-top: 3rem;">
      <div class="container">
        <h2>Similar Vehicles</h2>
        <div id="similarVehicles" class="vehicles-grid"></div>
      </div>
    </section>
  </main>

  <footer id="app-footer"></footer>

  <div id="toast" role="status" aria-live="polite" class="toast" hidden></div>

  <script src="../assets/js/utils.js"></script>
  <script src="../assets/js/app.js"></script>
  <script src="../assets/js/vehicle-detail.js"></script>
</body>
</html>
